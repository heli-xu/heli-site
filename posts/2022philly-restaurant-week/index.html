<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Heli Xu">
<meta name="dcterms.date" content="2022-10-04">
<title>Heli Xu - Philly Center City Distric Restaurant Week 2022</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script src="../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="../../site_libs/jquery-1.12.4/jquery.min.js"></script><link href="../../site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="../../site_libs/leaflet-1.3.1/leaflet.js"></script><link href="../../site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="../../site_libs/proj4-2.6.2/proj4.min.js"></script><script src="../../site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="../../site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="../../site_libs/leaflet-binding-2.1.1/leaflet.js"></script><script src="../../site_libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="../../site_libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script><link href="../../site_libs/lfx-fullscreen-1.0.2/lfx-fullscreen-prod.css" rel="stylesheet">
<script src="../../site_libs/lfx-fullscreen-1.0.2/lfx-fullscreen-prod.js"></script><link rel="stylesheet" href="../../styles.css">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Heli Xu</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../about.html">
 <span class="menu-text">Heli Xu</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
<div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Philly Center City Distric Restaurant Week 2022</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">news</div>
                <div class="quarto-category">code</div>
                <div class="quarto-category">analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Heli Xu </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 4, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">On this page</h2>
   
  <ul>
<li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction!</a></li>
  <li>
<a href="#scraping-the-data" id="toc-scraping-the-data" class="nav-link" data-scroll-target="#scraping-the-data">Scraping the data</a>
  <ul class="collapse">
<li><a href="#checking-site-permissions" id="toc-checking-site-permissions" class="nav-link" data-scroll-target="#checking-site-permissions">checking site permissions</a></li>
  <li><a href="#harvesting-data-from-the-first-page" id="toc-harvesting-data-from-the-first-page" class="nav-link" data-scroll-target="#harvesting-data-from-the-first-page">Harvesting data from the first page</a></li>
  <li><a href="#create-a-function-to-harvest-data-from-remaining-pages" id="toc-create-a-function-to-harvest-data-from-remaining-pages" class="nav-link" data-scroll-target="#create-a-function-to-harvest-data-from-remaining-pages">Create a function to harvest data from remaining pages</a></li>
  </ul>
</li>
  <li><a href="#geocoding-addresses" id="toc-geocoding-addresses" class="nav-link" data-scroll-target="#geocoding-addresses">Geocoding addresses</a></li>
  <li>
<a href="#building-the-map" id="toc-building-the-map" class="nav-link" data-scroll-target="#building-the-map">Building the map</a>
  <ul class="collapse">
<li><a href="#plotting-the-restaurants" id="toc-plotting-the-restaurants" class="nav-link" data-scroll-target="#plotting-the-restaurants">Plotting the restaurants</a></li>
  <li><a href="#adding-map-background" id="toc-adding-map-background" class="nav-link" data-scroll-target="#adding-map-background">Adding map background</a></li>
  <li><a href="#setting-the-map-view" id="toc-setting-the-map-view" class="nav-link" data-scroll-target="#setting-the-map-view">Setting the map view</a></li>
  <li><a href="#adding-full-screen-control" id="toc-adding-full-screen-control" class="nav-link" data-scroll-target="#adding-full-screen-control">Adding full screen control</a></li>
  <li><a href="#customizing-map-markers" id="toc-customizing-map-markers" class="nav-link" data-scroll-target="#customizing-map-markers">Customizing map markers</a></li>
  </ul>
</li>
  </ul></nav>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="introduction" class="level1"><h1>Introduction!</h1>
<p>This is based on an <a href="https://www.rladiesphilly.org/">R-ladies Philly</a> workshop on <a href="https://spcanelon.github.io/2022-ccd-sips/#customizing-map-markers">webscraping, geocoding, and interactive map-making</a> presented by Silvia Canelón. I found it really interesting and helpful, and Silvia made it easy to follow, even though I had zero experience making maps prior to that. I’m replicating steps from Silvia’s tutorial using another set of data from Center City District. The goal is to visualize all the restaurants participating in the 2022 CCD Restaurant Week in an interactive map.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/robotstxt/">robotstxt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rvest.tidyverse.org/">rvest</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://jessecambon.github.io/tidygeocoder/">tidygeocoder</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/">leaflet</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bhaskarvk/leaflet.extras">leaflet.extras</a></span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="scraping-the-data" class="level1"><h1>Scraping the data</h1>
<p>We will scrape the data from the list view: <a href="https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view" class="uri">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view</a></p>
<section id="checking-site-permissions" class="level2"><h2 class="anchored" data-anchor-id="checking-site-permissions">checking site permissions</h2>
<p>To check if an pages are not allowed to be scraped, we are using robotstxt package.</p>
<div class="cell">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://docs.ropensci.org/robotstxt/reference/get_robotstxt.html">get_robotstxt</a></span><span class="op">(</span><span class="st">"https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in request_handler_handler(request = request, handler = on_not_found, :
Event: on_not_found</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in request_handler_handler(request = request, handler =
on_file_type_mismatch, : Event: on_file_type_mismatch</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in request_handler_handler(request = request, handler =
on_suspect_content, : Event: on_suspect_content</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[robots.txt]
--------------------------------------

# robots.txt overwrite by: on_suspect_content

User-agent: *
Allow: /



[events]
--------------------------------------

requested:   https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view/robots.txt 
downloaded:  https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view/robots.txt 

$on_not_found
$on_not_found$status_code
[1] 404


$on_file_type_mismatch
$on_file_type_mismatch$content_type
[1] "text/html; charset=utf-8"


$on_suspect_content
$on_suspect_content$parsable
[1] FALSE

$on_suspect_content$content_suspect
[1] TRUE


[attributes]
--------------------------------------

problems, cached, request, class</code></pre>
</div>
</div>
<p>(sometimes it says something about not resolving host-the website-but it goes away but itself after a few tries.)</p>
</section><section id="harvesting-data-from-the-first-page" class="level2"><h2 class="anchored" data-anchor-id="harvesting-data-from-the-first-page">Harvesting data from the first page</h2>
<p>We are using In the list view from the website, all restaurants are split into four pages, so we’d need a function to scrape each page. Before that, we’ll check the function with the first page.</p>
<div class="cell">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># define the page (click on page 1 at the bottom)</span></span>
<span><span class="va">url1</span> <span class="op">&lt;-</span> <span class="st">"https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1"</span></span>
<span></span>
<span><span class="co"># read the page html</span></span>
<span><span class="va">html1</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html</a></span><span class="op">(</span><span class="va">url1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># extract table info (inspect elements)</span></span>
<span><span class="va">table1</span> <span class="op">&lt;-</span> <span class="va">html1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/rename.html">html_node</a></span><span class="op">(</span><span class="st">"table"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_table.html">html_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">table1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># if piped all the way down it doesn't print</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 29%">
<col style="width: 39%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Address</th>
<th style="text-align: left;">Phone</th>
<th style="text-align: left;">Menu &amp; Reservations</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1028 Yamitsuki Sushi &amp; Ramen</td>
<td style="text-align: left;">1028 Arch Street, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.629.3888</td>
<td style="text-align: left;">Menu &amp; Reservations</td>
</tr>
<tr class="even">
<td style="text-align: left;">1225 Raw Sushi and Sake Lounge</td>
<td style="text-align: left;">1225 Sansom St, Philadelphia, PA 19102</td>
<td style="text-align: left;">215.238.1903</td>
<td style="text-align: left;">Menu &amp; Reservations</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alice Pizza</td>
<td style="text-align: left;">235 S 15th Street, Philadelphia, PA 19102</td>
<td style="text-align: left;">215.545.2020</td>
<td style="text-align: left;">Menu &amp; Reservations</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ancient Spirits &amp; Grille</td>
<td style="text-align: left;">1726 Chestnut St, Philadelphia, PA 19103</td>
<td style="text-align: left;">215.478.8777</td>
<td style="text-align: left;">Menu &amp; Reservations</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bank and Bourbon</td>
<td style="text-align: left;">1200 Market St, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.231.7300</td>
<td style="text-align: left;">Menu &amp; Reservations</td>
</tr>
<tr class="even">
<td style="text-align: left;">Barbuzzo</td>
<td style="text-align: left;">110 S 13th St, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.546.9300</td>
<td style="text-align: left;">Menu &amp; Reservations</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># extract hyperlinks to specific restaurant menus (popup window)</span></span>
<span><span class="co"># can right click-copy link address to see what it's supposed to look at </span></span>
<span><span class="va">links</span> <span class="op">&lt;-</span> <span class="va">html1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_element.html">html_elements</a></span><span class="op">(</span><span class="st">".o-table__tag.ccd-text-link"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_attr.html">html_attr</a></span><span class="op">(</span><span class="st">"href"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># a vector </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tibble/man/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> </span>
<span><span class="va">links</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<thead><tr class="header">
<th style="text-align: left;">value</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">#1028-yamitsuki-sushi-ramen</td>
</tr>
<tr class="even">
<td style="text-align: left;">#1225-raw-sushi-and-sake-lounge</td>
</tr>
<tr class="odd">
<td style="text-align: left;">#alice-pizza</td>
</tr>
<tr class="even">
<td style="text-align: left;">#ancient-spirits-grille</td>
</tr>
<tr class="odd">
<td style="text-align: left;">#bank-and-bourbon</td>
</tr>
<tr class="even">
<td style="text-align: left;">#barbuzzo</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># add links to the table </span></span>
<span><span class="va">table1_link</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_cols</a></span><span class="op">(</span><span class="va">table1</span>, <span class="va">links</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Menu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">url1</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Menu &amp; Reservations'</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="va">table1_link</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 6%">
<col style="width: 57%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Address</th>
<th style="text-align: left;">Phone</th>
<th style="text-align: left;">Menu</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1028 Yamitsuki Sushi &amp; Ramen</td>
<td style="text-align: left;">1028 Arch Street, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.629.3888</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#1028-yamitsuki-sushi-ramen</td>
</tr>
<tr class="even">
<td style="text-align: left;">1225 Raw Sushi and Sake Lounge</td>
<td style="text-align: left;">1225 Sansom St, Philadelphia, PA 19102</td>
<td style="text-align: left;">215.238.1903</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#1225-raw-sushi-and-sake-lounge</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alice Pizza</td>
<td style="text-align: left;">235 S 15th Street, Philadelphia, PA 19102</td>
<td style="text-align: left;">215.545.2020</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#alice-pizza</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ancient Spirits &amp; Grille</td>
<td style="text-align: left;">1726 Chestnut St, Philadelphia, PA 19103</td>
<td style="text-align: left;">215.478.8777</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#ancient-spirits-grille</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bank and Bourbon</td>
<td style="text-align: left;">1200 Market St, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.231.7300</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bank-and-bourbon</td>
</tr>
<tr class="even">
<td style="text-align: left;">Barbuzzo</td>
<td style="text-align: left;">110 S 13th St, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.546.9300</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#barbuzzo</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section id="create-a-function-to-harvest-data-from-remaining-pages" class="level2"><h2 class="anchored" data-anchor-id="create-a-function-to-harvest-data-from-remaining-pages">Create a function to harvest data from remaining pages</h2>
<div class="cell">
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">getTables</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">pageNumber</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># wait 2 seconds between each page </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html">Sys.sleep</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">url</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page="</span>, <span class="va">pageNumber</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># read the page html</span></span>
<span>  <span class="va">html</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://xml2.r-lib.org/reference/read_xml.html">read_html</a></span><span class="op">(</span><span class="va">url</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># extract table info</span></span>
<span>  <span class="va">table</span> <span class="op">&lt;-</span> <span class="va">html</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/rename.html">html_node</a></span><span class="op">(</span><span class="st">"table"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_table.html">html_table</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># extract hyperlinks to specific restaurant menus (popup window)</span></span>
<span>  <span class="va">links</span> <span class="op">&lt;-</span> <span class="va">html</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_element.html">html_elements</a></span><span class="op">(</span><span class="st">".o-table__tag.ccd-text-link"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/rvest/man/html_attr.html">html_attr</a></span><span class="op">(</span><span class="st">"href"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># a vector</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/tibble/man/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span> </span>
<span>  </span>
<span>  <span class="co"># add links to the table</span></span>
<span>  <span class="va">table_link</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_cols</a></span><span class="op">(</span><span class="va">table</span>, <span class="va">links</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Menu <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">url</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Menu &amp; Reservations'</span>, <span class="va">value</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>After creating the function, we can use <code><a href="https://purrr.tidyverse.org/reference/map.html">purrr::map_df()</a></code> to repeat the data harvesting for the rest of pages (2-4). Then we can combine all the data frames together and save the final data frame as and .rds. object, so that we don’t have to keep scraping every time.</p>
<div class="cell">
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># get remaining table</span></span>
<span><span class="va">table2_4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map_df</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span>, <span class="va">getTables</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># combine all tables</span></span>
<span><span class="va">table_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="va">table1_link</span>, <span class="va">table2_4</span><span class="op">)</span></span>
<span><span class="va">table_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#tryout with or without kable()</span></span>
<span><span class="va">table_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># save full table to file</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/readr/man/read_rds.html">write_rds</a></span><span class="op">(</span><span class="va">table_all</span>, file <span class="op">=</span> <span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"restaurant_list_links.rds"</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Side note: <code><a href="https://rdrr.io/r/base/readRDS.html">saveRDS()</a></code> vs <code><a href="https://rdrr.io/pkg/readr/man/read_rds.html">write_rds()</a></code>: the only major difference between the two is that <code><a href="https://rdrr.io/pkg/readr/man/read_rds.html">write_rds()</a></code> does not compress the file by default.</p>
<p>(I only added cache: true at his point, to avoid repeated scraping, I’ll load the . rds file here for downstream visualization.)</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 6%">
<col style="width: 57%">
</colgroup>
<thead><tr class="header">
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Address</th>
<th style="text-align: left;">Phone</th>
<th style="text-align: left;">Menu</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1028 Yamitsuki Sushi &amp; Ramen</td>
<td style="text-align: left;">1028 Arch Street, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.629.3888</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#1028-yamitsuki-sushi-ramen</td>
</tr>
<tr class="even">
<td style="text-align: left;">1225 Raw Sushi and Sake Lounge</td>
<td style="text-align: left;">1225 Sansom St, Philadelphia, PA 19102</td>
<td style="text-align: left;">215.238.1903</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#1225-raw-sushi-and-sake-lounge</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Alice Pizza</td>
<td style="text-align: left;">235 S 15th Street, Philadelphia, PA 19102</td>
<td style="text-align: left;">215.545.2020</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#alice-pizza</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ancient Spirits &amp; Grille</td>
<td style="text-align: left;">1726 Chestnut St, Philadelphia, PA 19103</td>
<td style="text-align: left;">215.478.8777</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#ancient-spirits-grille</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Bank and Bourbon</td>
<td style="text-align: left;">1200 Market St, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.231.7300</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bank-and-bourbon</td>
</tr>
<tr class="even">
<td style="text-align: left;">Barbuzzo</td>
<td style="text-align: left;">110 S 13th St, Philadelphia, PA 19107</td>
<td style="text-align: left;">215.546.9300</td>
<td style="text-align: left;">https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#barbuzzo</td>
</tr>
</tbody>
</table>
</div>
</div>
</section></section><section id="geocoding-addresses" class="level1"><h1>Geocoding addresses</h1>
<p>This step is to convert restaurant addresses to geographical coordinates (longitude and latitude) for mapping. Now we’re using tidygeocoder package, with ArcGIS geocoding service.</p>
<div class="cell">
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># geocode adresses-adding log/latt to the table</span></span>
<span><span class="va">table_geo</span> <span class="op">&lt;-</span> <span class="va">table_all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://jessecambon.github.io/tidygeocoder/reference/geocode.html">geocode</a></span><span class="op">(</span>address <span class="op">=</span> <span class="va">Address</span>,</span>
<span>          method <span class="op">=</span> <span class="st">'arcgis'</span>,</span>
<span>          long <span class="op">=</span> <span class="va">Longtitude</span>,</span>
<span>          lat <span class="op">=</span> <span class="va">Latitude</span><span class="op">)</span></span>
<span><span class="va">table_geo</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It’s time to save this new dataframe as another .rds object so we don’t have to spend that 39.5s to geocode the same data again next time we need to map the data.</p>
<div class="cell">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/readr/man/read_rds.html">write_rds</a></span><span class="op">(</span><span class="va">table_geo</span>, <span class="st">"data/restaurant_list_geocoded.rds"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="building-the-map" class="level1"><h1>Building the map</h1>
<p>Here comes leaflet!!</p>
<section id="plotting-the-restaurants" class="level2"><h2 class="anchored" data-anchor-id="plotting-the-restaurants">Plotting the restaurants</h2>
<p>To customize labels, we could add a <a href="https://fonts.google.com/">Google Font</a> with a css chunk to import the font faces/weights.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode css code-with-copy"><code class="sourceCode css"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">@import</span> <span class="fu">url(</span><span class="st">'https://fonts.googleapis.com/css2?family=Fira+Sans:wght@500&amp;display=swap'</span><span class="fu">)</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<style type="text/css">
@import url('https://fonts.googleapis.com/css2?family=Fira+Sans:wght@500&display=swap');

</style>
</div>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">circles</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">table_geo</span>,</span>
<span>        options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-options.html">tileOptions</a></span><span class="op">(</span>minZoom <span class="op">=</span> <span class="fl">15</span>,</span>
<span>                              maxZoom <span class="op">=</span> <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">#add map markers</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addCircles</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="va">table_geo</span><span class="op">$</span><span class="va">Latitude</span>,</span>
<span>             lng <span class="op">=</span> <span class="va">table_geo</span><span class="op">$</span><span class="va">Longtitude</span>,</span>
<span>             popup <span class="op">=</span> <span class="va">table_geo</span><span class="op">$</span><span class="va">Address</span>,</span>
<span>             label <span class="op">=</span> <span class="va">table_geo</span><span class="op">$</span><span class="va">Name</span>,</span>
<span>             <span class="co">#customize labels</span></span>
<span>             labelOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-options.html">labelOptions</a></span><span class="op">(</span></span>
<span>               style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>                 <span class="st">"font-family"</span> <span class="op">=</span> <span class="st">"Fira Sans, sans-serif"</span>,</span>
<span>                 <span class="st">"font-size"</span> <span class="op">=</span> <span class="st">"1.2em"</span></span>
<span>               <span class="op">)</span></span>
<span>             <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">circles</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-e20bdc063932943a5dc9" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-e20bdc063932943a5dc9">{"x":{"options":{"minZoom":15,"maxZoom":19,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false},"calls":[{"method":"addCircles","args":[[39.9534240085415,39.9497594580884,39.9481840198618,39.9513320112374,39.9514709831921,39.9499979894375,39.9486370198189,39.9490950070085,39.9451680015517,39.9418439902094,39.9412969872082,39.9465049989273,39.9420780129461,39.9470719927675,39.947781981876,39.9491079989584,39.9520360072851,39.9486510175973,39.9645550083204,39.95232,39.9496079794828,39.9487210064888,39.9492610106008,39.9518430139645,39.9510604565108,39.949201783329,39.9439589958377,39.9488269956544,39.9592539993856,39.9504141275523,39.9511761506668,39.9512849887606,39.9521339917333,39.9504176444766,39.9471480166293,39.9488880159095,39.9494009883839,39.9477839935328,39.941075998331,39.9532950110516,39.9477810179571,39.9480199860167,39.9496360169489,39.9468859983361,39.947781981876,39.9458195895628,39.9428659956636,39.95103399267,39.9512069951516,39.9464739858855,39.9452330032109,39.9468619841835,39.949833472548,39.9651120588871,39.9502559844173,39.9491951309509,39.9478100193421,39.9513540137333,39.949953020527,39.9444609880189,39.9495179997522,39.9479359993469,39.9653149954813,39.9484309926389,39.9641150003132,39.9486990039929,39.9492349847915,39.9507747699376,39.948388999304,39.9558519944343,39.9500489933184,39.9418400088054,39.9517560098096,39.9489682374066,39.9514110106749,39.9495609989155,39.946701009733],[-75.157499990965,-75.1608904229262,-75.1660369593492,-75.169885007278,-75.1603120356613,-75.1621689624908,-75.157244007642,-75.1678740210682,-75.1702640369396,-75.1447159960609,-75.1522319648192,-75.1580459881379,-75.1546229865191,-75.1540179807479,-75.1620810363265,-75.1471449877821,-75.1749090362223,-75.1603019773775,-75.1605159673656,-75.173415,-75.1439829986282,-75.1744310162842,-75.1704180125009,-75.1733230125035,-75.165069151141,-75.1621505059971,-75.1691420353805,-75.1453599776818,-75.1615020144552,-75.1661661019336,-75.1722378947284,-75.1695089951016,-75.159258011337,-75.1661955376512,-75.1683360315712,-75.153245001637,-75.1424999884993,-75.1696980070182,-75.1462379820395,-75.1404589950761,-75.1677649725078,-75.1682460099311,-75.1516569662614,-75.1624039910559,-75.1620810363265,-75.1749116206205,-75.1456479798749,-75.1635150123218,-75.1741209696858,-75.1617740072132,-75.1610799856303,-75.1622190024528,-75.1587689176984,-75.160905196211,-75.1423139940679,-75.1680132378862,-75.1597890049032,-75.1751169912401,-75.1621810324314,-75.1707910071922,-75.1622920088294,-75.1658320218166,-75.1603960223312,-75.1744789607704,-75.1618510369034,-75.1428139745923,-75.1694189734615,-75.1688306523972,-75.1680249791443,-75.1725320123008,-75.1625199965958,-75.1451090235008,-75.1728869859003,-75.1703336606584,-75.1738639805344,-75.1617600094349,-75.1657710015614],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},["1028 Arch Street, Philadelphia, PA 19107","1225 Sansom St, Philadelphia, PA 19102","235 S 15th Street, Philadelphia, PA 19102","1726 Chestnut St, Philadelphia, PA 19103","1200 Market St, Philadelphia, PA 19107","110 S 13th St, Philadelphia, PA 19107","929 Walnut St, Philadephia, PA 19107","220 S 16th St, Philadelphia, PA 19102","1700 Lombard St, Philadelphia, PA 19146","120 Lombard St, Philadelphia, PA 19147","623 S 6th St, Philadelphia, PA 19147","262 S 10th St, Philadelphia, PA 19107","718 South St, Philadelphia, PA 19147","711 Locust St, Philadelphia PA, 19106","1234 Locust St, Philadephia, PA 19107","325 Chestnut St, Philadelphia, PA 19106","2034 Chestnut St, Philadelphia PA 19103","1126 Walnut St, Philadelphia, PA 19107","631 N. Broad St, Philadelphia, PA 19123","1700 Ben Franklin Pkwy, Philadelphia, PA 19103","10 S 2nd St, Philadelphia, PA 19106","256 S. 20th St, Philadelphia, PA 19103","225 S 18th St, Philadelphia, PA 19103","1930 Chestnut St, Philadelphia, PA 19103","1437 Chestnut Street, Philadelphia, PA 19102","120 S 13th St. , Philadelphia, PA 19107","1608 South St, Philadelphia, PA 19146","233 Chestnut Street, Philadelphia, PA 19105","339 North Broad St, Philadelphia, PA 19107","1523 Sansom St, Philadelphia, PA 19102","1907 Sansom St, Philadelphia, PA 19103","1716 Chestnut St, Philadelphia, PA 19103","1113 Market St, Philadelphia, PA 19107","1525 Sansom St, Philadelphia, PA, 19102","306 South 16th St, Philadelphia PA 19102","719 Sansom St, Philadelphia, PA 19106","8 S Front St, Philadelphia, PA 19106","1701 Spruce St, Philadelphia, PA 19103","214 South St, Philadelphia PA 19147","140 N Columbus Blvd, Philadephia, PA 19106","253 S 16th St, Philadelphia, PA 19102","252 S 16th St, Philadelphia, PA 19102","615 Chestnut St, Philadelphia, PA 19106","261 S. 13th St, Philadelphia, PA 19107","1234 Locust St, Philadelphia, PA 19107","500 S 20th St, Philadelphia PA 19146","400 South 2nd St, Philadelphia, PA 19147","1 S Broad St, Philadelphia, PA 19107","2012 Sansom St, Philadelphia, PA 19103","1216 Spruce St, Philadelphia, PA 19107","1141 Pine St, Philadephia, PA 19107","1229 Spruce St, Philadelphia PA 19107","110 South 11th St., Philadelphia, PA 19107","640 North Broad Street, Philadelphia, PA 19130","14 N Front St, Philadelphia, PA 19106","1620 Chancellor St., Philadelphia, PA 19103","1111 Locust St, Philadelphia, PA 19107","2048 Sansom St, Philadelphia, PA 19103","112 S 13th St, Philadelphia, PA 19107","1713 South St, Philadelphia, PA 19146","124 S 13th St, Philadelphia, PA 19107","1420 Locust St., Philadelphia, PA 19102","655 North Broad St., Philadelphia, PA 19123","270 S 20th St, Philadelphia, PA 19103","600 N Broad St, Philadephia, PA 19130","34 S Front St, Philadelphia, PA 19106","220 S 17th Street Philadelphia, PA 19103","121 S 17th St, Philadelphia, PA 19103","1602 Locust St, Philadelphia, PA 19103","1939 Arch Street, Philadelphia, PA 19103","1315 Sansom St, Philadelphia, PA 19107","509 S 2nd St, Philadelphia, PA 19147","1920 Chestnut St., Philadelphia PA 19103","1723 Locust St,  Philadelphia PA 19103","118 S 20th St, Philadelphia, PA 19103","129 S 13th St, Philadelphia, PA 19107","300 S Broad St, Philadephia, PA 19102"],null,["1028 Yamitsuki Sushi &amp; Ramen","1225 Raw Sushi and Sake Lounge","Alice Pizza","Ancient Spirits &amp; Grille","Bank and Bourbon","Barbuzzo","Barra Rossa","Bellini","Bistro La Baia","Bistro Romano","Bistrot La Minette","Bleu Sushi","Brauhaus Schmitz","Buca D'oro Ristorante","Bud &amp; Marilyn's","Buddakan","Butcher Bar","Caribou Café","Clementine's Stable Cafe","Con Murphy's Irish Pub","Cuba Libre Restaurant &amp; Rum Bar","D'Angelo's Ristorante Italiano &amp; Lounge","Devon Seafood Grill","Dim Sum House by Jane G's","Dolce Italian","Double Knot","Entrée BYOB","Forsythia","Gabi","Giuseppe and Sons","The Goat Rittenhouse","Gran Caffe L'Aquila","Hard Rock Cafe","Harp &amp; Crown","Jasmine Rice Rittenhouse","Koto Sushi","La Famiglia Ristorante","La Fontana Della Citta","La Nonna","La Peg","La Viola Bistro","La Viola Ovest","LaScala's Fire","Libertine","Little Nonna's","Lou Bird's","Malbec Argentine Steakhouse","McCormick &amp; Schmick's","Melograno BYOB","Mercato","Mixto Restaurant","Monster Vegan","Morea","Osteria","Panorama","Patchwork at the Hyatt Centric","Picanha Brazilian Steakhouse","Porcini","Prunella","Pumpkin BYOB","Sampan","Samurai Japanese Restaurant","Santucci's Original Square Pizza","Seafood Unlimited","SOUTH Kitchen &amp; Jazz Club","Spasso Italian Grill","Spice Finch","Square 1682","Tequilas Restaurant","Thanal Indian Tavern","Time Restaurant","The Twisted Tail","Veda","Via Locusta","Village Whiskey","Vintage Wine Bar &amp; Bistro","Volver"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"style":{"font-family":"Fira Sans, sans-serif","font-size":"1.2em"},"className":"","sticky":true},null,null]}],"limits":{"lat":[39.941075998331,39.9653149954813],"lng":[-75.1751169912401,-75.1404589950761]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="adding-map-background" class="level2"><h2 class="anchored" data-anchor-id="adding-map-background">Adding map background</h2>
<div class="cell">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># add map tiles in the background</span></span>
<span><span class="va">circles_map</span> <span class="op">&lt;-</span> <span class="va">circles</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">addProviderTiles</a></span><span class="op">(</span><span class="va">providers</span><span class="op">$</span><span class="va">CartoDB.Voyager</span><span class="op">)</span></span>
<span><span class="va">circles_map</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-ad000ec3a7b4e868a6af" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-ad000ec3a7b4e868a6af">{"x":{"options":{"minZoom":15,"maxZoom":19,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false},"calls":[{"method":"addCircles","args":[[39.9534240085415,39.9497594580884,39.9481840198618,39.9513320112374,39.9514709831921,39.9499979894375,39.9486370198189,39.9490950070085,39.9451680015517,39.9418439902094,39.9412969872082,39.9465049989273,39.9420780129461,39.9470719927675,39.947781981876,39.9491079989584,39.9520360072851,39.9486510175973,39.9645550083204,39.95232,39.9496079794828,39.9487210064888,39.9492610106008,39.9518430139645,39.9510604565108,39.949201783329,39.9439589958377,39.9488269956544,39.9592539993856,39.9504141275523,39.9511761506668,39.9512849887606,39.9521339917333,39.9504176444766,39.9471480166293,39.9488880159095,39.9494009883839,39.9477839935328,39.941075998331,39.9532950110516,39.9477810179571,39.9480199860167,39.9496360169489,39.9468859983361,39.947781981876,39.9458195895628,39.9428659956636,39.95103399267,39.9512069951516,39.9464739858855,39.9452330032109,39.9468619841835,39.949833472548,39.9651120588871,39.9502559844173,39.9491951309509,39.9478100193421,39.9513540137333,39.949953020527,39.9444609880189,39.9495179997522,39.9479359993469,39.9653149954813,39.9484309926389,39.9641150003132,39.9486990039929,39.9492349847915,39.9507747699376,39.948388999304,39.9558519944343,39.9500489933184,39.9418400088054,39.9517560098096,39.9489682374066,39.9514110106749,39.9495609989155,39.946701009733],[-75.157499990965,-75.1608904229262,-75.1660369593492,-75.169885007278,-75.1603120356613,-75.1621689624908,-75.157244007642,-75.1678740210682,-75.1702640369396,-75.1447159960609,-75.1522319648192,-75.1580459881379,-75.1546229865191,-75.1540179807479,-75.1620810363265,-75.1471449877821,-75.1749090362223,-75.1603019773775,-75.1605159673656,-75.173415,-75.1439829986282,-75.1744310162842,-75.1704180125009,-75.1733230125035,-75.165069151141,-75.1621505059971,-75.1691420353805,-75.1453599776818,-75.1615020144552,-75.1661661019336,-75.1722378947284,-75.1695089951016,-75.159258011337,-75.1661955376512,-75.1683360315712,-75.153245001637,-75.1424999884993,-75.1696980070182,-75.1462379820395,-75.1404589950761,-75.1677649725078,-75.1682460099311,-75.1516569662614,-75.1624039910559,-75.1620810363265,-75.1749116206205,-75.1456479798749,-75.1635150123218,-75.1741209696858,-75.1617740072132,-75.1610799856303,-75.1622190024528,-75.1587689176984,-75.160905196211,-75.1423139940679,-75.1680132378862,-75.1597890049032,-75.1751169912401,-75.1621810324314,-75.1707910071922,-75.1622920088294,-75.1658320218166,-75.1603960223312,-75.1744789607704,-75.1618510369034,-75.1428139745923,-75.1694189734615,-75.1688306523972,-75.1680249791443,-75.1725320123008,-75.1625199965958,-75.1451090235008,-75.1728869859003,-75.1703336606584,-75.1738639805344,-75.1617600094349,-75.1657710015614],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},["1028 Arch Street, Philadelphia, PA 19107","1225 Sansom St, Philadelphia, PA 19102","235 S 15th Street, Philadelphia, PA 19102","1726 Chestnut St, Philadelphia, PA 19103","1200 Market St, Philadelphia, PA 19107","110 S 13th St, Philadelphia, PA 19107","929 Walnut St, Philadephia, PA 19107","220 S 16th St, Philadelphia, PA 19102","1700 Lombard St, Philadelphia, PA 19146","120 Lombard St, Philadelphia, PA 19147","623 S 6th St, Philadelphia, PA 19147","262 S 10th St, Philadelphia, PA 19107","718 South St, Philadelphia, PA 19147","711 Locust St, Philadelphia PA, 19106","1234 Locust St, Philadephia, PA 19107","325 Chestnut St, Philadelphia, PA 19106","2034 Chestnut St, Philadelphia PA 19103","1126 Walnut St, Philadelphia, PA 19107","631 N. Broad St, Philadelphia, PA 19123","1700 Ben Franklin Pkwy, Philadelphia, PA 19103","10 S 2nd St, Philadelphia, PA 19106","256 S. 20th St, Philadelphia, PA 19103","225 S 18th St, Philadelphia, PA 19103","1930 Chestnut St, Philadelphia, PA 19103","1437 Chestnut Street, Philadelphia, PA 19102","120 S 13th St. , Philadelphia, PA 19107","1608 South St, Philadelphia, PA 19146","233 Chestnut Street, Philadelphia, PA 19105","339 North Broad St, Philadelphia, PA 19107","1523 Sansom St, Philadelphia, PA 19102","1907 Sansom St, Philadelphia, PA 19103","1716 Chestnut St, Philadelphia, PA 19103","1113 Market St, Philadelphia, PA 19107","1525 Sansom St, Philadelphia, PA, 19102","306 South 16th St, Philadelphia PA 19102","719 Sansom St, Philadelphia, PA 19106","8 S Front St, Philadelphia, PA 19106","1701 Spruce St, Philadelphia, PA 19103","214 South St, Philadelphia PA 19147","140 N Columbus Blvd, Philadephia, PA 19106","253 S 16th St, Philadelphia, PA 19102","252 S 16th St, Philadelphia, PA 19102","615 Chestnut St, Philadelphia, PA 19106","261 S. 13th St, Philadelphia, PA 19107","1234 Locust St, Philadelphia, PA 19107","500 S 20th St, Philadelphia PA 19146","400 South 2nd St, Philadelphia, PA 19147","1 S Broad St, Philadelphia, PA 19107","2012 Sansom St, Philadelphia, PA 19103","1216 Spruce St, Philadelphia, PA 19107","1141 Pine St, Philadephia, PA 19107","1229 Spruce St, Philadelphia PA 19107","110 South 11th St., Philadelphia, PA 19107","640 North Broad Street, Philadelphia, PA 19130","14 N Front St, Philadelphia, PA 19106","1620 Chancellor St., Philadelphia, PA 19103","1111 Locust St, Philadelphia, PA 19107","2048 Sansom St, Philadelphia, PA 19103","112 S 13th St, Philadelphia, PA 19107","1713 South St, Philadelphia, PA 19146","124 S 13th St, Philadelphia, PA 19107","1420 Locust St., Philadelphia, PA 19102","655 North Broad St., Philadelphia, PA 19123","270 S 20th St, Philadelphia, PA 19103","600 N Broad St, Philadephia, PA 19130","34 S Front St, Philadelphia, PA 19106","220 S 17th Street Philadelphia, PA 19103","121 S 17th St, Philadelphia, PA 19103","1602 Locust St, Philadelphia, PA 19103","1939 Arch Street, Philadelphia, PA 19103","1315 Sansom St, Philadelphia, PA 19107","509 S 2nd St, Philadelphia, PA 19147","1920 Chestnut St., Philadelphia PA 19103","1723 Locust St,  Philadelphia PA 19103","118 S 20th St, Philadelphia, PA 19103","129 S 13th St, Philadelphia, PA 19107","300 S Broad St, Philadephia, PA 19102"],null,["1028 Yamitsuki Sushi &amp; Ramen","1225 Raw Sushi and Sake Lounge","Alice Pizza","Ancient Spirits &amp; Grille","Bank and Bourbon","Barbuzzo","Barra Rossa","Bellini","Bistro La Baia","Bistro Romano","Bistrot La Minette","Bleu Sushi","Brauhaus Schmitz","Buca D'oro Ristorante","Bud &amp; Marilyn's","Buddakan","Butcher Bar","Caribou Café","Clementine's Stable Cafe","Con Murphy's Irish Pub","Cuba Libre Restaurant &amp; Rum Bar","D'Angelo's Ristorante Italiano &amp; Lounge","Devon Seafood Grill","Dim Sum House by Jane G's","Dolce Italian","Double Knot","Entrée BYOB","Forsythia","Gabi","Giuseppe and Sons","The Goat Rittenhouse","Gran Caffe L'Aquila","Hard Rock Cafe","Harp &amp; Crown","Jasmine Rice Rittenhouse","Koto Sushi","La Famiglia Ristorante","La Fontana Della Citta","La Nonna","La Peg","La Viola Bistro","La Viola Ovest","LaScala's Fire","Libertine","Little Nonna's","Lou Bird's","Malbec Argentine Steakhouse","McCormick &amp; Schmick's","Melograno BYOB","Mercato","Mixto Restaurant","Monster Vegan","Morea","Osteria","Panorama","Patchwork at the Hyatt Centric","Picanha Brazilian Steakhouse","Porcini","Prunella","Pumpkin BYOB","Sampan","Samurai Japanese Restaurant","Santucci's Original Square Pizza","Seafood Unlimited","SOUTH Kitchen &amp; Jazz Club","Spasso Italian Grill","Spice Finch","Square 1682","Tequilas Restaurant","Thanal Indian Tavern","Time Restaurant","The Twisted Tail","Veda","Via Locusta","Village Whiskey","Vintage Wine Bar &amp; Bistro","Volver"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"style":{"font-family":"Fira Sans, sans-serif","font-size":"1.2em"},"className":"","sticky":true},null,null]},{"method":"addProviderTiles","args":["CartoDB.Voyager",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]}],"limits":{"lat":[39.941075998331,39.9653149954813],"lng":[-75.1751169912401,-75.1404589950761]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="setting-the-map-view" class="level2"><h2 class="anchored" data-anchor-id="setting-the-map-view">Setting the map view</h2>
<div class="cell">
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># roughly set the center of all restaurants</span></span>
<span><span class="va">circles_map_view</span> <span class="op">&lt;-</span> <span class="va">circles_map</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-methods.html">setView</a></span><span class="op">(</span>lng  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">table_geo</span><span class="op">$</span><span class="va">Longtitude</span><span class="op">)</span>,</span>
<span>          lat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">table_geo</span><span class="op">$</span><span class="va">Latitude</span><span class="op">)</span>,</span>
<span>          zoom <span class="op">=</span> <span class="fl">16</span><span class="op">)</span></span>
<span><span class="va">circles_map_view</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-30ad079830e0abfb6a1a" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-30ad079830e0abfb6a1a">{"x":{"options":{"minZoom":15,"maxZoom":19,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false},"calls":[{"method":"addCircles","args":[[39.9534240085415,39.9497594580884,39.9481840198618,39.9513320112374,39.9514709831921,39.9499979894375,39.9486370198189,39.9490950070085,39.9451680015517,39.9418439902094,39.9412969872082,39.9465049989273,39.9420780129461,39.9470719927675,39.947781981876,39.9491079989584,39.9520360072851,39.9486510175973,39.9645550083204,39.95232,39.9496079794828,39.9487210064888,39.9492610106008,39.9518430139645,39.9510604565108,39.949201783329,39.9439589958377,39.9488269956544,39.9592539993856,39.9504141275523,39.9511761506668,39.9512849887606,39.9521339917333,39.9504176444766,39.9471480166293,39.9488880159095,39.9494009883839,39.9477839935328,39.941075998331,39.9532950110516,39.9477810179571,39.9480199860167,39.9496360169489,39.9468859983361,39.947781981876,39.9458195895628,39.9428659956636,39.95103399267,39.9512069951516,39.9464739858855,39.9452330032109,39.9468619841835,39.949833472548,39.9651120588871,39.9502559844173,39.9491951309509,39.9478100193421,39.9513540137333,39.949953020527,39.9444609880189,39.9495179997522,39.9479359993469,39.9653149954813,39.9484309926389,39.9641150003132,39.9486990039929,39.9492349847915,39.9507747699376,39.948388999304,39.9558519944343,39.9500489933184,39.9418400088054,39.9517560098096,39.9489682374066,39.9514110106749,39.9495609989155,39.946701009733],[-75.157499990965,-75.1608904229262,-75.1660369593492,-75.169885007278,-75.1603120356613,-75.1621689624908,-75.157244007642,-75.1678740210682,-75.1702640369396,-75.1447159960609,-75.1522319648192,-75.1580459881379,-75.1546229865191,-75.1540179807479,-75.1620810363265,-75.1471449877821,-75.1749090362223,-75.1603019773775,-75.1605159673656,-75.173415,-75.1439829986282,-75.1744310162842,-75.1704180125009,-75.1733230125035,-75.165069151141,-75.1621505059971,-75.1691420353805,-75.1453599776818,-75.1615020144552,-75.1661661019336,-75.1722378947284,-75.1695089951016,-75.159258011337,-75.1661955376512,-75.1683360315712,-75.153245001637,-75.1424999884993,-75.1696980070182,-75.1462379820395,-75.1404589950761,-75.1677649725078,-75.1682460099311,-75.1516569662614,-75.1624039910559,-75.1620810363265,-75.1749116206205,-75.1456479798749,-75.1635150123218,-75.1741209696858,-75.1617740072132,-75.1610799856303,-75.1622190024528,-75.1587689176984,-75.160905196211,-75.1423139940679,-75.1680132378862,-75.1597890049032,-75.1751169912401,-75.1621810324314,-75.1707910071922,-75.1622920088294,-75.1658320218166,-75.1603960223312,-75.1744789607704,-75.1618510369034,-75.1428139745923,-75.1694189734615,-75.1688306523972,-75.1680249791443,-75.1725320123008,-75.1625199965958,-75.1451090235008,-75.1728869859003,-75.1703336606584,-75.1738639805344,-75.1617600094349,-75.1657710015614],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},["1028 Arch Street, Philadelphia, PA 19107","1225 Sansom St, Philadelphia, PA 19102","235 S 15th Street, Philadelphia, PA 19102","1726 Chestnut St, Philadelphia, PA 19103","1200 Market St, Philadelphia, PA 19107","110 S 13th St, Philadelphia, PA 19107","929 Walnut St, Philadephia, PA 19107","220 S 16th St, Philadelphia, PA 19102","1700 Lombard St, Philadelphia, PA 19146","120 Lombard St, Philadelphia, PA 19147","623 S 6th St, Philadelphia, PA 19147","262 S 10th St, Philadelphia, PA 19107","718 South St, Philadelphia, PA 19147","711 Locust St, Philadelphia PA, 19106","1234 Locust St, Philadephia, PA 19107","325 Chestnut St, Philadelphia, PA 19106","2034 Chestnut St, Philadelphia PA 19103","1126 Walnut St, Philadelphia, PA 19107","631 N. Broad St, Philadelphia, PA 19123","1700 Ben Franklin Pkwy, Philadelphia, PA 19103","10 S 2nd St, Philadelphia, PA 19106","256 S. 20th St, Philadelphia, PA 19103","225 S 18th St, Philadelphia, PA 19103","1930 Chestnut St, Philadelphia, PA 19103","1437 Chestnut Street, Philadelphia, PA 19102","120 S 13th St. , Philadelphia, PA 19107","1608 South St, Philadelphia, PA 19146","233 Chestnut Street, Philadelphia, PA 19105","339 North Broad St, Philadelphia, PA 19107","1523 Sansom St, Philadelphia, PA 19102","1907 Sansom St, Philadelphia, PA 19103","1716 Chestnut St, Philadelphia, PA 19103","1113 Market St, Philadelphia, PA 19107","1525 Sansom St, Philadelphia, PA, 19102","306 South 16th St, Philadelphia PA 19102","719 Sansom St, Philadelphia, PA 19106","8 S Front St, Philadelphia, PA 19106","1701 Spruce St, Philadelphia, PA 19103","214 South St, Philadelphia PA 19147","140 N Columbus Blvd, Philadephia, PA 19106","253 S 16th St, Philadelphia, PA 19102","252 S 16th St, Philadelphia, PA 19102","615 Chestnut St, Philadelphia, PA 19106","261 S. 13th St, Philadelphia, PA 19107","1234 Locust St, Philadelphia, PA 19107","500 S 20th St, Philadelphia PA 19146","400 South 2nd St, Philadelphia, PA 19147","1 S Broad St, Philadelphia, PA 19107","2012 Sansom St, Philadelphia, PA 19103","1216 Spruce St, Philadelphia, PA 19107","1141 Pine St, Philadephia, PA 19107","1229 Spruce St, Philadelphia PA 19107","110 South 11th St., Philadelphia, PA 19107","640 North Broad Street, Philadelphia, PA 19130","14 N Front St, Philadelphia, PA 19106","1620 Chancellor St., Philadelphia, PA 19103","1111 Locust St, Philadelphia, PA 19107","2048 Sansom St, Philadelphia, PA 19103","112 S 13th St, Philadelphia, PA 19107","1713 South St, Philadelphia, PA 19146","124 S 13th St, Philadelphia, PA 19107","1420 Locust St., Philadelphia, PA 19102","655 North Broad St., Philadelphia, PA 19123","270 S 20th St, Philadelphia, PA 19103","600 N Broad St, Philadephia, PA 19130","34 S Front St, Philadelphia, PA 19106","220 S 17th Street Philadelphia, PA 19103","121 S 17th St, Philadelphia, PA 19103","1602 Locust St, Philadelphia, PA 19103","1939 Arch Street, Philadelphia, PA 19103","1315 Sansom St, Philadelphia, PA 19107","509 S 2nd St, Philadelphia, PA 19147","1920 Chestnut St., Philadelphia PA 19103","1723 Locust St,  Philadelphia PA 19103","118 S 20th St, Philadelphia, PA 19103","129 S 13th St, Philadelphia, PA 19107","300 S Broad St, Philadephia, PA 19102"],null,["1028 Yamitsuki Sushi &amp; Ramen","1225 Raw Sushi and Sake Lounge","Alice Pizza","Ancient Spirits &amp; Grille","Bank and Bourbon","Barbuzzo","Barra Rossa","Bellini","Bistro La Baia","Bistro Romano","Bistrot La Minette","Bleu Sushi","Brauhaus Schmitz","Buca D'oro Ristorante","Bud &amp; Marilyn's","Buddakan","Butcher Bar","Caribou Café","Clementine's Stable Cafe","Con Murphy's Irish Pub","Cuba Libre Restaurant &amp; Rum Bar","D'Angelo's Ristorante Italiano &amp; Lounge","Devon Seafood Grill","Dim Sum House by Jane G's","Dolce Italian","Double Knot","Entrée BYOB","Forsythia","Gabi","Giuseppe and Sons","The Goat Rittenhouse","Gran Caffe L'Aquila","Hard Rock Cafe","Harp &amp; Crown","Jasmine Rice Rittenhouse","Koto Sushi","La Famiglia Ristorante","La Fontana Della Citta","La Nonna","La Peg","La Viola Bistro","La Viola Ovest","LaScala's Fire","Libertine","Little Nonna's","Lou Bird's","Malbec Argentine Steakhouse","McCormick &amp; Schmick's","Melograno BYOB","Mercato","Mixto Restaurant","Monster Vegan","Morea","Osteria","Panorama","Patchwork at the Hyatt Centric","Picanha Brazilian Steakhouse","Porcini","Prunella","Pumpkin BYOB","Sampan","Samurai Japanese Restaurant","Santucci's Original Square Pizza","Seafood Unlimited","SOUTH Kitchen &amp; Jazz Club","Spasso Italian Grill","Spice Finch","Square 1682","Tequilas Restaurant","Thanal Indian Tavern","Time Restaurant","The Twisted Tail","Veda","Via Locusta","Village Whiskey","Vintage Wine Bar &amp; Bistro","Volver"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"style":{"font-family":"Fira Sans, sans-serif","font-size":"1.2em"},"className":"","sticky":true},null,null]},{"method":"addProviderTiles","args":["CartoDB.Voyager",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]}],"limits":{"lat":[39.941075998331,39.9653149954813],"lng":[-75.1751169912401,-75.1404589950761]},"setView":[[39.9496259338657,-75.1621482580921],16,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="adding-full-screen-control" class="level2"><h2 class="anchored" data-anchor-id="adding-full-screen-control">Adding full screen control</h2>
<div class="cell">
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">circles_map_view</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://bhaskarvk.github.io/leaflet.extras/reference/fullscreen.html">addFullscreenControl</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-c543ff969d9f95b7dbec" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-c543ff969d9f95b7dbec">{"x":{"options":{"minZoom":15,"maxZoom":19,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"fullscreenControl":{"position":"topleft","pseudoFullscreen":false}},"calls":[{"method":"addCircles","args":[[39.9534240085415,39.9497594580884,39.9481840198618,39.9513320112374,39.9514709831921,39.9499979894375,39.9486370198189,39.9490950070085,39.9451680015517,39.9418439902094,39.9412969872082,39.9465049989273,39.9420780129461,39.9470719927675,39.947781981876,39.9491079989584,39.9520360072851,39.9486510175973,39.9645550083204,39.95232,39.9496079794828,39.9487210064888,39.9492610106008,39.9518430139645,39.9510604565108,39.949201783329,39.9439589958377,39.9488269956544,39.9592539993856,39.9504141275523,39.9511761506668,39.9512849887606,39.9521339917333,39.9504176444766,39.9471480166293,39.9488880159095,39.9494009883839,39.9477839935328,39.941075998331,39.9532950110516,39.9477810179571,39.9480199860167,39.9496360169489,39.9468859983361,39.947781981876,39.9458195895628,39.9428659956636,39.95103399267,39.9512069951516,39.9464739858855,39.9452330032109,39.9468619841835,39.949833472548,39.9651120588871,39.9502559844173,39.9491951309509,39.9478100193421,39.9513540137333,39.949953020527,39.9444609880189,39.9495179997522,39.9479359993469,39.9653149954813,39.9484309926389,39.9641150003132,39.9486990039929,39.9492349847915,39.9507747699376,39.948388999304,39.9558519944343,39.9500489933184,39.9418400088054,39.9517560098096,39.9489682374066,39.9514110106749,39.9495609989155,39.946701009733],[-75.157499990965,-75.1608904229262,-75.1660369593492,-75.169885007278,-75.1603120356613,-75.1621689624908,-75.157244007642,-75.1678740210682,-75.1702640369396,-75.1447159960609,-75.1522319648192,-75.1580459881379,-75.1546229865191,-75.1540179807479,-75.1620810363265,-75.1471449877821,-75.1749090362223,-75.1603019773775,-75.1605159673656,-75.173415,-75.1439829986282,-75.1744310162842,-75.1704180125009,-75.1733230125035,-75.165069151141,-75.1621505059971,-75.1691420353805,-75.1453599776818,-75.1615020144552,-75.1661661019336,-75.1722378947284,-75.1695089951016,-75.159258011337,-75.1661955376512,-75.1683360315712,-75.153245001637,-75.1424999884993,-75.1696980070182,-75.1462379820395,-75.1404589950761,-75.1677649725078,-75.1682460099311,-75.1516569662614,-75.1624039910559,-75.1620810363265,-75.1749116206205,-75.1456479798749,-75.1635150123218,-75.1741209696858,-75.1617740072132,-75.1610799856303,-75.1622190024528,-75.1587689176984,-75.160905196211,-75.1423139940679,-75.1680132378862,-75.1597890049032,-75.1751169912401,-75.1621810324314,-75.1707910071922,-75.1622920088294,-75.1658320218166,-75.1603960223312,-75.1744789607704,-75.1618510369034,-75.1428139745923,-75.1694189734615,-75.1688306523972,-75.1680249791443,-75.1725320123008,-75.1625199965958,-75.1451090235008,-75.1728869859003,-75.1703336606584,-75.1738639805344,-75.1617600094349,-75.1657710015614],10,null,null,{"interactive":true,"className":"","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2},["1028 Arch Street, Philadelphia, PA 19107","1225 Sansom St, Philadelphia, PA 19102","235 S 15th Street, Philadelphia, PA 19102","1726 Chestnut St, Philadelphia, PA 19103","1200 Market St, Philadelphia, PA 19107","110 S 13th St, Philadelphia, PA 19107","929 Walnut St, Philadephia, PA 19107","220 S 16th St, Philadelphia, PA 19102","1700 Lombard St, Philadelphia, PA 19146","120 Lombard St, Philadelphia, PA 19147","623 S 6th St, Philadelphia, PA 19147","262 S 10th St, Philadelphia, PA 19107","718 South St, Philadelphia, PA 19147","711 Locust St, Philadelphia PA, 19106","1234 Locust St, Philadephia, PA 19107","325 Chestnut St, Philadelphia, PA 19106","2034 Chestnut St, Philadelphia PA 19103","1126 Walnut St, Philadelphia, PA 19107","631 N. Broad St, Philadelphia, PA 19123","1700 Ben Franklin Pkwy, Philadelphia, PA 19103","10 S 2nd St, Philadelphia, PA 19106","256 S. 20th St, Philadelphia, PA 19103","225 S 18th St, Philadelphia, PA 19103","1930 Chestnut St, Philadelphia, PA 19103","1437 Chestnut Street, Philadelphia, PA 19102","120 S 13th St. , Philadelphia, PA 19107","1608 South St, Philadelphia, PA 19146","233 Chestnut Street, Philadelphia, PA 19105","339 North Broad St, Philadelphia, PA 19107","1523 Sansom St, Philadelphia, PA 19102","1907 Sansom St, Philadelphia, PA 19103","1716 Chestnut St, Philadelphia, PA 19103","1113 Market St, Philadelphia, PA 19107","1525 Sansom St, Philadelphia, PA, 19102","306 South 16th St, Philadelphia PA 19102","719 Sansom St, Philadelphia, PA 19106","8 S Front St, Philadelphia, PA 19106","1701 Spruce St, Philadelphia, PA 19103","214 South St, Philadelphia PA 19147","140 N Columbus Blvd, Philadephia, PA 19106","253 S 16th St, Philadelphia, PA 19102","252 S 16th St, Philadelphia, PA 19102","615 Chestnut St, Philadelphia, PA 19106","261 S. 13th St, Philadelphia, PA 19107","1234 Locust St, Philadelphia, PA 19107","500 S 20th St, Philadelphia PA 19146","400 South 2nd St, Philadelphia, PA 19147","1 S Broad St, Philadelphia, PA 19107","2012 Sansom St, Philadelphia, PA 19103","1216 Spruce St, Philadelphia, PA 19107","1141 Pine St, Philadephia, PA 19107","1229 Spruce St, Philadelphia PA 19107","110 South 11th St., Philadelphia, PA 19107","640 North Broad Street, Philadelphia, PA 19130","14 N Front St, Philadelphia, PA 19106","1620 Chancellor St., Philadelphia, PA 19103","1111 Locust St, Philadelphia, PA 19107","2048 Sansom St, Philadelphia, PA 19103","112 S 13th St, Philadelphia, PA 19107","1713 South St, Philadelphia, PA 19146","124 S 13th St, Philadelphia, PA 19107","1420 Locust St., Philadelphia, PA 19102","655 North Broad St., Philadelphia, PA 19123","270 S 20th St, Philadelphia, PA 19103","600 N Broad St, Philadephia, PA 19130","34 S Front St, Philadelphia, PA 19106","220 S 17th Street Philadelphia, PA 19103","121 S 17th St, Philadelphia, PA 19103","1602 Locust St, Philadelphia, PA 19103","1939 Arch Street, Philadelphia, PA 19103","1315 Sansom St, Philadelphia, PA 19107","509 S 2nd St, Philadelphia, PA 19147","1920 Chestnut St., Philadelphia PA 19103","1723 Locust St,  Philadelphia PA 19103","118 S 20th St, Philadelphia, PA 19103","129 S 13th St, Philadelphia, PA 19107","300 S Broad St, Philadephia, PA 19102"],null,["1028 Yamitsuki Sushi &amp; Ramen","1225 Raw Sushi and Sake Lounge","Alice Pizza","Ancient Spirits &amp; Grille","Bank and Bourbon","Barbuzzo","Barra Rossa","Bellini","Bistro La Baia","Bistro Romano","Bistrot La Minette","Bleu Sushi","Brauhaus Schmitz","Buca D'oro Ristorante","Bud &amp; Marilyn's","Buddakan","Butcher Bar","Caribou Café","Clementine's Stable Cafe","Con Murphy's Irish Pub","Cuba Libre Restaurant &amp; Rum Bar","D'Angelo's Ristorante Italiano &amp; Lounge","Devon Seafood Grill","Dim Sum House by Jane G's","Dolce Italian","Double Knot","Entrée BYOB","Forsythia","Gabi","Giuseppe and Sons","The Goat Rittenhouse","Gran Caffe L'Aquila","Hard Rock Cafe","Harp &amp; Crown","Jasmine Rice Rittenhouse","Koto Sushi","La Famiglia Ristorante","La Fontana Della Citta","La Nonna","La Peg","La Viola Bistro","La Viola Ovest","LaScala's Fire","Libertine","Little Nonna's","Lou Bird's","Malbec Argentine Steakhouse","McCormick &amp; Schmick's","Melograno BYOB","Mercato","Mixto Restaurant","Monster Vegan","Morea","Osteria","Panorama","Patchwork at the Hyatt Centric","Picanha Brazilian Steakhouse","Porcini","Prunella","Pumpkin BYOB","Sampan","Samurai Japanese Restaurant","Santucci's Original Square Pizza","Seafood Unlimited","SOUTH Kitchen &amp; Jazz Club","Spasso Italian Grill","Spice Finch","Square 1682","Tequilas Restaurant","Thanal Indian Tavern","Time Restaurant","The Twisted Tail","Veda","Via Locusta","Village Whiskey","Vintage Wine Bar &amp; Bistro","Volver"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"style":{"font-family":"Fira Sans, sans-serif","font-size":"1.2em"},"className":"","sticky":true},null,null]},{"method":"addProviderTiles","args":["CartoDB.Voyager",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]}],"limits":{"lat":[39.941075998331,39.9653149954813],"lng":[-75.1751169912401,-75.1404589950761]},"setView":[[39.9496259338657,-75.1621482580921],16,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section id="customizing-map-markers" class="level2"><h2 class="anchored" data-anchor-id="customizing-map-markers">Customizing map markers</h2>
<div class="cell">
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># style pop-ups for the map with inline css styling</span></span>
<span></span>
<span><span class="co"># marker for the restaurants (circles)</span></span>
<span><span class="va">popInfoCircles</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span></span>
<span>  <span class="st">"&lt;h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'&gt;"</span>, </span>
<span>  <span class="st">"&lt;a style='color: #00857A;' href="</span>, <span class="va">table_geo</span><span class="op">$</span><span class="va">Menu</span>, <span class="st">"&gt;"</span>, <span class="va">table_geo</span><span class="op">$</span><span class="va">Name</span>, <span class="st">"&lt;/a&gt;&lt;/h2&gt;"</span>,</span>
<span>  <span class="st">"&lt;p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'&gt;"</span>, <span class="va">table_geo</span><span class="op">$</span><span class="va">Address</span>, <span class="st">"&lt;/p&gt;"</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we are incorporating this styling into the previous map:</p>
<div class="cell">
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/leaflet.html">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">table_geo</span>,</span>
<span>        options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-options.html">tileOptions</a></span><span class="op">(</span>minZoom <span class="op">=</span> <span class="fl">15</span>,</span>
<span>                              maxZoom <span class="op">=</span> <span class="fl">19</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co">#add map markers</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-layers.html">addCircles</a></span><span class="op">(</span>lat <span class="op">=</span> <span class="op">~</span><span class="va">Latitude</span>,</span>
<span>             lng <span class="op">=</span> <span class="op">~</span><span class="va">Longtitude</span>,</span>
<span>             fillColor <span class="op">=</span> <span class="st">"#eb6857"</span>,</span>
<span>             fillOpacity <span class="op">=</span> <span class="fl">0.7</span>,</span>
<span>             stroke <span class="op">=</span> <span class="cn">F</span>,</span>
<span>             radius <span class="op">=</span> <span class="fl">13</span>,</span>
<span>             <span class="co">#customize popups (more info plus style)</span></span>
<span>             popup <span class="op">=</span> <span class="va">popInfoCircles</span>,</span>
<span>             label <span class="op">=</span> <span class="op">~</span><span class="va">Name</span>,</span>
<span>             <span class="co">#customize labels</span></span>
<span>             labelOptions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-options.html">labelOptions</a></span><span class="op">(</span></span>
<span>               style <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>                 <span class="st">"font-family"</span> <span class="op">=</span> <span class="st">"Fira Sans, sans-serif"</span>,</span>
<span>                 <span class="st">"font-size"</span> <span class="op">=</span> <span class="st">"1.2em"</span></span>
<span>               <span class="op">)</span></span>
<span>             <span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/addProviderTiles.html">addProviderTiles</a></span><span class="op">(</span><span class="va">providers</span><span class="op">$</span><span class="va">CartoDB.Voyager</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/leaflet/man/map-methods.html">setView</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">table_geo</span><span class="op">$</span><span class="va">Longtitude</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">table_geo</span><span class="op">$</span><span class="va">Latitude</span><span class="op">)</span>,</span>
<span>          zoom <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://bhaskarvk.github.io/leaflet.extras/reference/fullscreen.html">addFullscreenControl</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="htmlwidget-a8324b2a2891586f5bcf" style="width:100%;height:464px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-a8324b2a2891586f5bcf">{"x":{"options":{"minZoom":15,"maxZoom":19,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"fullscreenControl":{"position":"topleft","pseudoFullscreen":false}},"calls":[{"method":"addCircles","args":[[39.9534240085415,39.9497594580884,39.9481840198618,39.9513320112374,39.9514709831921,39.9499979894375,39.9486370198189,39.9490950070085,39.9451680015517,39.9418439902094,39.9412969872082,39.9465049989273,39.9420780129461,39.9470719927675,39.947781981876,39.9491079989584,39.9520360072851,39.9486510175973,39.9645550083204,39.95232,39.9496079794828,39.9487210064888,39.9492610106008,39.9518430139645,39.9510604565108,39.949201783329,39.9439589958377,39.9488269956544,39.9592539993856,39.9504141275523,39.9511761506668,39.9512849887606,39.9521339917333,39.9504176444766,39.9471480166293,39.9488880159095,39.9494009883839,39.9477839935328,39.941075998331,39.9532950110516,39.9477810179571,39.9480199860167,39.9496360169489,39.9468859983361,39.947781981876,39.9458195895628,39.9428659956636,39.95103399267,39.9512069951516,39.9464739858855,39.9452330032109,39.9468619841835,39.949833472548,39.9651120588871,39.9502559844173,39.9491951309509,39.9478100193421,39.9513540137333,39.949953020527,39.9444609880189,39.9495179997522,39.9479359993469,39.9653149954813,39.9484309926389,39.9641150003132,39.9486990039929,39.9492349847915,39.9507747699376,39.948388999304,39.9558519944343,39.9500489933184,39.9418400088054,39.9517560098096,39.9489682374066,39.9514110106749,39.9495609989155,39.946701009733],[-75.157499990965,-75.1608904229262,-75.1660369593492,-75.169885007278,-75.1603120356613,-75.1621689624908,-75.157244007642,-75.1678740210682,-75.1702640369396,-75.1447159960609,-75.1522319648192,-75.1580459881379,-75.1546229865191,-75.1540179807479,-75.1620810363265,-75.1471449877821,-75.1749090362223,-75.1603019773775,-75.1605159673656,-75.173415,-75.1439829986282,-75.1744310162842,-75.1704180125009,-75.1733230125035,-75.165069151141,-75.1621505059971,-75.1691420353805,-75.1453599776818,-75.1615020144552,-75.1661661019336,-75.1722378947284,-75.1695089951016,-75.159258011337,-75.1661955376512,-75.1683360315712,-75.153245001637,-75.1424999884993,-75.1696980070182,-75.1462379820395,-75.1404589950761,-75.1677649725078,-75.1682460099311,-75.1516569662614,-75.1624039910559,-75.1620810363265,-75.1749116206205,-75.1456479798749,-75.1635150123218,-75.1741209696858,-75.1617740072132,-75.1610799856303,-75.1622190024528,-75.1587689176984,-75.160905196211,-75.1423139940679,-75.1680132378862,-75.1597890049032,-75.1751169912401,-75.1621810324314,-75.1707910071922,-75.1622920088294,-75.1658320218166,-75.1603960223312,-75.1744789607704,-75.1618510369034,-75.1428139745923,-75.1694189734615,-75.1688306523972,-75.1680249791443,-75.1725320123008,-75.1625199965958,-75.1451090235008,-75.1728869859003,-75.1703336606584,-75.1738639805344,-75.1617600094349,-75.1657710015614],13,null,null,{"interactive":true,"className":"","stroke":false,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#eb6857","fillOpacity":0.7},["<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#1028-yamitsuki-sushi-ramen > 1028 Yamitsuki Sushi & Ramen <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1028 Arch Street, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#1225-raw-sushi-and-sake-lounge > 1225 Raw Sushi and Sake Lounge <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1225 Sansom St, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#alice-pizza > Alice Pizza <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 235 S 15th Street, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#ancient-spirits-grille > Ancient Spirits & Grille <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1726 Chestnut St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bank-and-bourbon > Bank and Bourbon <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1200 Market St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#barbuzzo > Barbuzzo <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 110 S 13th St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#barra-rossa > Barra Rossa <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 929 Walnut St, Philadephia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bellini > Bellini <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 220 S 16th St, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bistro-la-baia > Bistro La Baia <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1700 Lombard St, Philadelphia, PA 19146 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bistro-romano > Bistro Romano <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 120 Lombard St, Philadelphia, PA 19147 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bistrot-la-minette > Bistrot La Minette <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 623 S 6th St, Philadelphia, PA 19147 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bleu-sushi > Bleu Sushi <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 262 S 10th St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#brauhaus-schmitz > Brauhaus Schmitz <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 718 South St, Philadelphia, PA 19147 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#buca-d-oro-ristorante > Buca D'oro Ristorante <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 711 Locust St, Philadelphia PA, 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#bud-marilyns > Bud & Marilyn's <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1234 Locust St, Philadephia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#buddakan > Buddakan <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 325 Chestnut St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#butcher-bar > Butcher Bar <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 2034 Chestnut St, Philadelphia PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#caribou-café > Caribou Café <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1126 Walnut St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#clementine-s-stable-cafe > Clementine's Stable Cafe <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 631 N. Broad St, Philadelphia, PA 19123 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=1#con-murphy-s-irish-pub > Con Murphy's Irish Pub <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1700 Ben Franklin Pkwy, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#cuba-libre-restaurant-rum-bar > Cuba Libre Restaurant & Rum Bar <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 10 S 2nd St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#d-angelo-s-ristorante-italiano-lounge > D'Angelo's Ristorante Italiano & Lounge <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 256 S. 20th St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#devon-seafood-grill > Devon Seafood Grill <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 225 S 18th St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#dim-sum-house-by-jane-g-s > Dim Sum House by Jane G's <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1930 Chestnut St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#dolce-italian > Dolce Italian <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1437 Chestnut Street, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#doubleknot > Double Knot <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 120 S 13th St. , Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#entrée-byob > Entrée BYOB <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1608 South St, Philadelphia, PA 19146 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#forsythia > Forsythia <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 233 Chestnut Street, Philadelphia, PA 19105 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#gabi > Gabi <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 339 North Broad St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#giuseppe-and-sons > Giuseppe and Sons <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1523 Sansom St, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#the-goat-rittenhouse > The Goat Rittenhouse <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1907 Sansom St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#gran-caffe-l-aquila > Gran Caffe L'Aquila <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1716 Chestnut St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#hard-rock-cafe > Hard Rock Cafe <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1113 Market St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#harp-crown1 > Harp & Crown <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1525 Sansom St, Philadelphia, PA, 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#jasmine-rice-rittenhouse > Jasmine Rice Rittenhouse <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 306 South 16th St, Philadelphia PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#koto-sushi > Koto Sushi <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 719 Sansom St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#la-famiglia-ristorante > La Famiglia Ristorante <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 8 S Front St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#la-fontana-della-citta > La Fontana Della Citta <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1701 Spruce St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#la-nonna > La Nonna <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 214 South St, Philadelphia PA 19147 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=2#la-peg > La Peg <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 140 N Columbus Blvd, Philadephia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#la-viola-bistro > La Viola Bistro <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 253 S 16th St, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#la-viola-ovest > La Viola Ovest <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 252 S 16th St, Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#lascalas > LaScala's Fire <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 615 Chestnut St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#libertine > Libertine <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 261 S. 13th St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#little-nonna-s > Little Nonna's <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1234 Locust St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#lou-bird-s > Lou Bird's <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 500 S 20th St, Philadelphia PA 19146 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#malbec-argentine-steakhouse > Malbec Argentine Steakhouse <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 400 South 2nd St, Philadelphia, PA 19147 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#mccormick-schmick-s > McCormick & Schmick's <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1 S Broad St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#melograno-byob > Melograno BYOB <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 2012 Sansom St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#mercato > Mercato <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1216 Spruce St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#mixto-restaurant > Mixto Restaurant <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1141 Pine St, Philadephia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#monster-vegan > Monster Vegan <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1229 Spruce St, Philadelphia PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#morea > Morea <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 110 South 11th St., Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#osteria > Osteria <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 640 North Broad Street, Philadelphia, PA 19130 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#panorama > Panorama <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 14 N Front St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#patchwork-at-the-hyatt-centric > Patchwork at the Hyatt Centric <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1620 Chancellor St., Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#picanha-brazilian-steakhouse > Picanha Brazilian Steakhouse <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1111 Locust St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#porcini > Porcini <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 2048 Sansom St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#prunella > Prunella <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 112 S 13th St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=3#pumpkin-byob > Pumpkin BYOB <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1713 South St, Philadelphia, PA 19146 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#sampan7 > Sampan <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 124 S 13th St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#samurai-japanese-restaurant > Samurai Japanese Restaurant <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1420 Locust St., Philadelphia, PA 19102 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#santucci-s-original-square-pizz > Santucci's Original Square Pizza <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 655 North Broad St., Philadelphia, PA 19123 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#seafood-unlimited > Seafood Unlimited <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 270 S 20th St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#south-kitchen-jazz-club > SOUTH Kitchen & Jazz Club <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 600 N Broad St, Philadephia, PA 19130 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#spasso-italian-grill > Spasso Italian Grill <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 34 S Front St, Philadelphia, PA 19106 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#spice-finch > Spice Finch <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 220 S 17th Street Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#square-1682 > Square 1682 <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 121 S 17th St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#tequilas-restaurant > Tequilas Restaurant <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1602 Locust St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#thanal-indian-tavern > Thanal Indian Tavern <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1939 Arch Street, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#time-restaurant > Time Restaurant <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1315 Sansom St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#the-twisted-tail > The Twisted Tail <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 509 S 2nd St, Philadelphia, PA 19147 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#veda > Veda <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1920 Chestnut St., Philadelphia PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#via-locust > Via Locusta <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 1723 Locust St,  Philadelphia PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#village-whiskey > Village Whiskey <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 118 S 20th St, Philadelphia, PA 19103 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#vintage-wine-bar-bistro > Vintage Wine Bar & Bistro <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 129 S 13th St, Philadelphia, PA 19107 <\/p>","<h2 style='font-family: Fira Sans, sans-serif; font-size: 1.6em; color:#43464C;'> <a style='color: #00857A;' href= https://centercityphila.org/explore-center-city/ccd-restaurant-week/list-view?page=4#volver > Volver <\/a><\/h2> <p style='font-family: Fira Sans, sans-serif; font-weight: normal; font-size: 1.5em; color:#9197A6;'> 300 S Broad St, Philadephia, PA 19102 <\/p>"],null,["1028 Yamitsuki Sushi &amp; Ramen","1225 Raw Sushi and Sake Lounge","Alice Pizza","Ancient Spirits &amp; Grille","Bank and Bourbon","Barbuzzo","Barra Rossa","Bellini","Bistro La Baia","Bistro Romano","Bistrot La Minette","Bleu Sushi","Brauhaus Schmitz","Buca D'oro Ristorante","Bud &amp; Marilyn's","Buddakan","Butcher Bar","Caribou Café","Clementine's Stable Cafe","Con Murphy's Irish Pub","Cuba Libre Restaurant &amp; Rum Bar","D'Angelo's Ristorante Italiano &amp; Lounge","Devon Seafood Grill","Dim Sum House by Jane G's","Dolce Italian","Double Knot","Entrée BYOB","Forsythia","Gabi","Giuseppe and Sons","The Goat Rittenhouse","Gran Caffe L'Aquila","Hard Rock Cafe","Harp &amp; Crown","Jasmine Rice Rittenhouse","Koto Sushi","La Famiglia Ristorante","La Fontana Della Citta","La Nonna","La Peg","La Viola Bistro","La Viola Ovest","LaScala's Fire","Libertine","Little Nonna's","Lou Bird's","Malbec Argentine Steakhouse","McCormick &amp; Schmick's","Melograno BYOB","Mercato","Mixto Restaurant","Monster Vegan","Morea","Osteria","Panorama","Patchwork at the Hyatt Centric","Picanha Brazilian Steakhouse","Porcini","Prunella","Pumpkin BYOB","Sampan","Samurai Japanese Restaurant","Santucci's Original Square Pizza","Seafood Unlimited","SOUTH Kitchen &amp; Jazz Club","Spasso Italian Grill","Spice Finch","Square 1682","Tequilas Restaurant","Thanal Indian Tavern","Time Restaurant","The Twisted Tail","Veda","Via Locusta","Village Whiskey","Vintage Wine Bar &amp; Bistro","Volver"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"style":{"font-family":"Fira Sans, sans-serif","font-size":"1.2em"},"className":"","sticky":true},null,null]},{"method":"addProviderTiles","args":["CartoDB.Voyager",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]}],"limits":{"lat":[39.941075998331,39.9653149954813],"lng":[-75.1751169912401,-75.1404589950761]},"setView":[[39.9496259338657,-75.1621482580921],16,[]]},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>